<%layout("/layout/boilerplate.ejs") -%>

<body> 

  <style>
    #filters{
       display: flex;
       flex-wrap: wrap;
       align-items: center;
    }
    .filter{
      text-align: center;
      margin-left: 2rem;
      margin-top: 1rem;
      opacity: 0.7;
    }
    .filter:hover{
      opacity: 1;
      cursor: pointer;
    }
    .tax-info{

      display: none;

    }
    .tax-toggle{
      border: 1px solid black;
      border-radius: 10px;
      height: 3rem;
      padding: 0.60rem;
      margin-left: 5rem;
    
    }
  </style>
  <div id="filters">
    <div class="filter">
      <div><i class="fa-solid fa-fire"></i></div>
      <p>Trending</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-bed"></i></div>
      <p>Bed</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-mountain-city"></i></div>
      <p>City</p>
    </div>
    <div class="filter">
      <div><i class="fa-brands fa-fort-awesome"></i></div>
      <p>Awesome</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-person-swimming"></i></div>
      <p>Sweming</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-campground"></i></div>
      <p>Camping</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-tractor"></i></div>
      <p>Tactoer</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-mountain"></i></div>
      <p>Snow</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-tree"></i></div>
      <p>Tree</p>
    </div>
    
    <div class="tax-toggle">
      <div class="form-check-reverse form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Default switch checkbox input</label>
      </div>
    </div>
    
  </div>
  <div class="row row-cols-1 row-cols-md-3 g-4">
    <% for(let data of datas){%> 
      <div class="col">
        <div class="card">
          <a href="http://localhost:8080/listing/<%=data._id%>">
          <img src="<%=data.image.url%>" class="card-img-top" alt="My Image" height="300px">
          </a>
          <div class="card-body">
            <h5 class="card-title"><%=data.title%></h5>
            <p class="card-text"> &#8377; <%=data.price.toLocaleString("en-IN")%> /night
               <i class="tax-info"> +18% GST</i>
            </p>
          </div>
          <ul>
            <li><a href="http://localhost:8080/listing/<%=data._id%>">Check Detail</a></li>
          </ul> 
        </div>
      </div>  
    <%}%>         
  </div>      
</body>

<script>
  let texswitch=document.getElementById("flexSwitchCheckDefault");

  texswitch.addEventListener("click",()=>{
    let taxinfo=document.getElementsByClassName("tax-info");
    for(info of taxinfo){

      if(info.style.display != "inline"){
        info.style.display="inline";
      }else{
        info.style.display="none";
      }
      
    }
  })
</script>